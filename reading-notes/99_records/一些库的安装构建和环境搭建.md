# 一、Geos库编译

2022.07.16

## 1. win10、mingw编译构建geos库

参考构建链接：

https://www.cnblogs.com/oloroso/p/6762624.html

步骤：

> a. 在官网https://libgeos.org/usage/download/下载geos源码；（官网也有构建说明）
>
> b. 解压源码后，在解压后的目录下，mkdir build -> cd build；
>
> c. cmake -G "MinGW Makefiles" -DCMAKE_BUILD_TYPE=Release -DCMAKE_INSTALL_PREFIX=安装路径
>
> 【注】：cmake -G的G应该是Generator的意思，该语句可以设置IDE，比如Xcode。cmake -D 是用来设置编译器的
>
> d. 通过步骤c以后生成了Makefile；
>
> e. 编译和安装
>
> 编译： mingw32-make -f Makefile
>
> 安装： mingw32-make -f Makefile install
>
> 【注】make命令会首先在当前目录查找名为makefile的文件，如果找不到，就会查找名为Makefile的文件。
>
> 为了指示make命令将哪个文件作为makefile文件，可以使用 -f 选项。

## 2. 可能遇到的问题

### 1）Cmake使用链接第三方库

参考链接

https://blog.csdn.net/ly890700/article/details/72808426?spm=1001.2101.3001.6661.1&utm_medium=distribute.pc_relevant_t0.none-task-blog-2%7Edefault%7ECTRLIST%7Edefault-1-72808426-blog-86248612.pc_relevant_multi_platform_whitelistv2&depth_1-utm_source=distribute.pc_relevant_t0.none-task-blog-2%7Edefault%7ECTRLIST%7Edefault-1-72808426-blog-86248612.pc_relevant_multi_platform_whitelistv2&utm_relevant_index=1

![image-20220716150942623](C:\Users\16693\AppData\Roaming\Typora\typora-user-images\image-20220716150942623.png)

### 2）C++调用C接口

![image-20220716151526034](C:\Users\16693\AppData\Roaming\Typora\typora-user-images\image-20220716151526034.png)

# 二、虚拟机下载和安装

2022.07.16

